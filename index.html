<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function printMousePos(event) {
            console.log(event.clientX, event.clientY,"here")
            if(event.clientX >= 199 && event.clientX <= 308 && event.clientY >= 109 && event.clientY <= 211){
                Log('yellow')
            }
            if(event.clientX >= 199 && event.clientX <= 308 && event.clientY >= 230 && event.clientY <= 332){
                Log('blue')
            }
            if(event.clientX >= 199 && event.clientX <= 308 && event.clientY >= 352 && event.clientY <= 453){
                Log('maroon')
            }
            if(event.clientX >= 199 && event.clientX <= 308 && event.clientY >= 469 && event.clientY <= 570){
                Log('green')
            }
        }
        let c1done = false;
        let c2done = false;
        let c3done = false;
        let c4done = false;
        let x = 950;
        let canvas = "";
        let ctx = "";
        let img = "";
        let color = "";
        let cir1 = "";
        let cir2 = "";
        let cir3 = "";
        let cir4 = "";
        function canvas_arrow(fromx, fromy,tox, toy,arrowWidth) {
          ctx.beginPath();
          var headlen = 10; // length of head in pixels
          var dx = tox - fromx;
          var dy = toy - fromy;
          var angle = Math.atan2(dy, dx);
          ctx.moveTo(fromx, fromy);
          ctx.lineTo(tox, toy);
          ctx.lineTo(
            tox - headlen * Math.cos(angle - Math.PI / 6),
            toy - headlen * Math.sin(angle - Math.PI / 6)
          );
          ctx.moveTo(tox, toy);
          ctx.lineTo(
            tox - headlen * Math.cos(angle + Math.PI / 6),
            toy - headlen * Math.sin(angle + Math.PI / 6)
          );
          ctx.lineWidth = arrowWidth;
          ctx.stroke();
        }
        function Log(colorGiven){
            x = 475;
            color = colorGiven
            if(color == 'yellow' && !c1done ){
                    start();
            }
            else if(color == 'blue' && !c2done ){
                     start();

            }
            else if(color == 'maroon' && !c3done ){
                     start();
            }
            else if(color == 'green' && !c4done ){
                     start(); 
            }
        }
        function draw() {
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        if (canvas.getContext) {
        ctx.beginPath();
        ctx.arc(100, 80, 50, 0, Math.PI * 2, true);
        ctx.fillStyle = "#FFFF00";
        ctx.fill();
        ctx.lineWidth = 4;
        ctx.strokeStyle = '#003300';
        ctx.stroke();
        cir1 = {...ctx};
        ctx.closePath();

        ctx.moveTo(150, 200);

        ctx.beginPath();
        ctx.arc(100, 200, 50, 0, Math.PI * 2, true); 
        ctx.fillStyle = "#0000FF";
        ctx.fill();
        ctx.lineWidth = 4;
        ctx.strokeStyle = '#003300';
        ctx.stroke();
        cir2 = {...ctx};
        ctx.closePath();

        ctx.moveTo(150, 315);
        
        ctx.beginPath();
        ctx.arc(100, 320, 50, 0, Math.PI * 2, true); 
        ctx.fillStyle = "#800000";
        ctx.fill();
        ctx.lineWidth = 4;
        ctx.strokeStyle = '#003300';
        ctx.stroke();
        cir3 = {...ctx};
        ctx.closePath();

        ctx.moveTo(150, 435);

        ctx.beginPath();
        ctx.arc(100, 440, 50, 0, Math.PI * 2, true); 
        ctx.fillStyle = "#00FF00";
        ctx.fill();
        ctx.lineWidth = 4;
        ctx.strokeStyle = '#003300';
        ctx.stroke();
        cir4 = {...ctx};
        ctx.closePath();
        ctx.beginPath();  
        canvas_arrow( 1070, 75,950, 75 , 5);
        canvas_arrow(  1070, 190,950, 190, 5);
        canvas_arrow( 1070, 305, 950, 305,  5);
        canvas_arrow( 1070, 420, 950, 420,  5);   
    }
}
    function start(){
           requestAnimationFrame(animate);
    }
    function greycircle(x,y){
        ctx.moveTo(x, y);
        ctx.beginPath();
        ctx.arc(x-50, y, 50, 0, Math.PI * 2, true); 
        ctx.fillStyle = "#808080";
        ctx.fill();
        ctx.lineWidth = 4;
        ctx.strokeStyle = '#003300';
        ctx.stroke();
        ctx.closePath();
    }
    function animate(time){
            
            ctx.translate(x, 0);
            if(color == 'yellow' ){
                    ctx.clearRect(70, 40, 1060,50);
                    canvas_arrow(x+120, 75, x, 75, 5);       
            }
            else if(color == 'blue' ){
                    ctx.clearRect(70, 170, 1060,50);
                    canvas_arrow(x+120, 190, x, 190, 5);

            }
            else if(color == 'maroon'){
                    ctx.clearRect(70, 300, 1060,50);
                    canvas_arrow(x+120, 315, x, 315, 5);
            }
            else if(color == 'green'){
                    ctx.clearRect(70, 410, 1060,50);
                    canvas_arrow(x+120, 430, x, 430, 5);
            }
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            x -= 4;
            if(x>85) {requestAnimationFrame(animate);}
            else{
                if(color == 'yellow'){
                    greycircle(150,80)
                    c1done = true;     
                }
                else if(color == 'blue'){
                     greycircle(150,200)
                     c2done = true;

                }
                else if(color == 'maroon'){
                      greycircle(150,320)
                      c3done = true;
                }
                else if(color == 'green'){
                       greycircle(150,440)
                       c4done = true;
                }
              
                console.log(cir1,cir2,cir3,cir4)
            }
    }
       document.addEventListener("click", printMousePos);
    </script>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .container {
            margin-top: 5px;
            padding: 15px;
        }
        .heading {
           text-align: center;
           margin-bottom: 20px;
        }
        .box{
            height: 35vw;
            width: 80vw;
            border: 5px solid black;
            margin: auto auto;
        }
        .footer {
           display: flex;
           flex-direction: row-reverse;
           padding-right: 10vw;
           margin-top: 20px;
        }
        .reset{
            width: 110px;
            height: 35px;
            font-size: larger;
            font-weight: bold;
            box-shadow: 4px 3px 2px 0px rgba(0,0,0,0.75);
            margin-right: 20px;
        }


    </style>
</head>
<body onload="draw()">
    <div class="container">
       <div class="heading"><h1>Bubbles App</h1></div>
       <div class="box">
        <canvas id="canvas" width="1250" height="550"></canvas>
       </div>
       <div class="footer">
        <button class="reset" onclick="window.location.reload(true)">Reset</button>
       </div>
    </div>
</body>
</html>
